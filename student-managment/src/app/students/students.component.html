<div class="container mt-5">

  <!-- Form Section for adding or editing students -->
  <div class="card mb-4 shadow-lg">
    <div class="card-header bg-primary text-white">
      <h3 class="mb-0">{{ isEditMode ? 'Edit Student' : 'Add New Student' }}</h3>
    </div>
    <div class="card-body">
      <form (ngSubmit)="saveStudent()">
        
        <!-- ID Input (Only visible in edit mode) -->
        <div class="mb-3" *ngIf="isEditMode">
          <label for="id" class="form-label">ID</label>
          <input type="text" class="form-control" id="id" [(ngModel)]="currentStudent.id" name="id" readonly>
        </div>

        <!-- Name Input -->
        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input type="text" class="form-control" id="name" [(ngModel)]="currentStudent.name" name="name" required>
        </div>

        <!-- Age Input -->
        <div class="mb-3">
          <label for="age" class="form-label">Age</label>
          <input type="number" class="form-control" id="age" [(ngModel)]="currentStudent.age" name="age" required>
        </div>

        <!-- Major Input -->
        <div class="mb-3">
          <label for="major" class="form-label">Major</label>
          <input type="text" class="form-control" id="major" [(ngModel)]="currentStudent.major" name="major" required>
        </div>

        <!-- Submit and Cancel Buttons -->
        <div class="d-flex gap-3">
          <button type="submit" class="btn btn-success w-50">{{ isEditMode ? 'Update' : 'Add' }} Student</button>
          <button type="button" class="btn btn-secondary w-50" *ngIf="isEditMode" (click)="resetForm()">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Student List Section -->
  <div class="card shadow-lg">
    <div class="card-header bg-primary text-white">
      <h3 class="mb-0">Student List</h3>
    </div>
    <div class="card-body">
      <table class="table table-bordered table-striped table-hover">
        <thead>
          <tr class="table-light">
            <th>ID</th>
            <th>Name</th>
            <th>Age</th>
            <th>Major</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <!-- Loop through students and display in the table -->
          <tr *ngFor="let student of students">
            <td>{{ student.id }}</td>
            <td>{{ student.name }}</td>
            <td>{{ student.age }}</td>
            <td>{{ student.major }}</td>
            <td class="text-center">
              <button class="btn btn-sm btn-warning me-2" (click)="editStudent(student)">Edit</button>
              <button class="btn btn-sm btn-danger" (click)="deleteStudent(student.id)">Delete</button>
            </td>
          </tr>

          <!-- No students found message -->
          <tr *ngIf="students.length === 0">
            <td colspan="5" class="text-center text-muted">No students found.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
